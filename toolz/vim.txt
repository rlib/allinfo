#*. танцы с кодировками:
Это - кодировка хранения _внутренних данных_ вима (регистров, буферов)
set encoding=koi8-r
А это - установить кодировку файла!
set fileencoding=koi8-r
Это - явно задать, в какой кодировке находится открытый файл
:e ++enc=cp1251
мега-вещь для автоопределения кодировки!
:set fencs=utf8,cp1251

Сохранить текущий файл в другой к-ке:
:e ++enc=koi8-r foo.txt
:set fileencoding=cp1251
:w

Либо, по-нормальному:
(но если так сделать при кривом отображении, он сохранит его как правильное, поэтому надо сначала добиться, чтобы русские буквы были правильно видны)
:w ++enc=cp1251

#*. Посмотреть, что за команду выдало меню:
set gfn?

#*. Танцы с бубном вокруг командного режима при включённой русской раскладке

Во-первых, мапим все клавиши:
map ё `
map й q
map ц w
...и тыды

Следующая задача - заставить работать в русской раскладке клавиши Ctrl + [, $, # 

сопроводительный материал есть здесь 
http://habrahabr.ru/blogs/vim/98393/

там предлагалось воспользоваться set keymap=russian-jcukenwin
всё бы хорошо - но переключение раскладок по Ctrl+^
А мне нужно по одному Caps-Lock-у

Изврат над другим решением (из комментов):
nmap х :!$HOME/.xsetxkb.sh:!$HOME/.xsetxkb.sh:
Но он не работает

set langmap=йцу...ЙЦУ...;qwe...QWE...


#*. Явное включение подсветки синтаксиса:
:so ~/vim/syntax/javascript.vim
(переменная $VIM у меня не выставлена )

#*.
В vim при редактировании команд работают те же горячие клавиши, что для баша!!! CTR+J, CTR+P, CTR+H и тыды! Можно вообще руки с центра не убирать!!

#*. Открыть файл сразу на нужной строке!!!:
vim +47 main.c

#*. макросы вима!!
qX
<запись>
q
<конец записи>
10 @qX
повтор макроса 10 раз - ыа


#*. Перенос длинных строк в vim:
:set wrap
:set showbreak=__
:set textwidth=10000
^^^
отмена дурного форматирования, когда после 80 символов вставляют новую строку

