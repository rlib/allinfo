Git Berserker

#1.

git clone git://git.kernel.org/pub/scm/git/git.git
^^^
добываем копию гита

git branch
^^^
просмотр текущих веток

git tag -l
^^^
просмотр текущих тэгов

git checkout -b tagged-br v2.6.13
^^^
создать новую ветку tagged-br, голова которой будет указывать на состояние проекта, отмеченное тэгом v2.6.13
То бишь можно дальше параллельно всему развивать ветку 2.6.13.x

git reset --hard v2.6.17
^^^
переставить голову текущей ветки на указанный тэг

--------------------------------------------------------

Git combos

http://schacon.github.com/git/user-manual.html

Создание тарбола

git archive e2k.stable.rpath | gzip > ~/test/e2k.stable.rpath.tgz
git archive slack.stable.current | gzip > ~/efs/svn/slack.stable.current.tgz

Просмотр всех файлов

git log e2k.oldstable.gstuff --pretty=format: --name-only --diff-filter=A | sort - >& list.files

Копирование себе репозитория

vim ~/.gitconfig

[user]
         name = ton
         email = ton@sample.ru
[i18n]
    commitencoding = ru_RU.UTF-8

rm -rf ./repo
git clone -n --template /dir/git/templates /auto/allarch/osfs.git ./repo
cd ./repo
git fetch origin slack.stable.current:slack.stable.current
git checkout slack.stable.current

Обновление удалённого репозитария
git push /auto/allarch/osfs.git slack.stable.current:slack.stable.current

Обновление рабочего репо с удалённого репозитория
git pull /auto/allarch/osfs.git slack.stable.current

Срезание новой ветки newbranch 

git branch newbranch

Переключение на ветвь
git checkout slack.debug

сливание ветки new в ветку main

git checkout main
git merge new

Спасительная команда undo:
git reset --hard HEAD

git diff branch1..branch2 file.txt
^^^
выдаём diff для файла для изменений, которые есть в branch2, но нет в branch1

git fetch 
команда, качающая внутренние структуры гиторепозитариев с удалённых мест

Посмотреть, какие ветки есть в произвольном удалённом репозитории (не в том, с которого склонировали)
git remote add svetlana /home/shishor_s/repo
git fetch svetlana
git branch -r
^^^
теперь команда будет показывать её ветки среди всех остальных удалённых
(других таких же добавленных и того, с которого склонировали главный репо)


-------------------------------------------------

Действия по запиливанию удалённого репозитория

git init
^^^
создаём нулевой репо 
ssh-keygen -t rsa -C "net@rlib.su"
^^^
генерим пару rsa-ключей
git remote add origin git@github.com:rlib/allinfo.git
^^^
связываемся с удалённым серваком
git push -u origin master
^^^
заливаем всё из ветки master
git push origin base.fresh:base.fresh
^^^
заливаем всё из ветки base.fresh и одновременно создаём эту ветку, если её не было

Доступ из-под прокси к удалённому гит-репо!

ставим программу для форвардинга ssh-трафика через http - 
corkscrew

дальше создаём ~/.ssh/config, туды пишем:

Host github.com
  ProxyCommand /path/to/corkscrew proxy.host.com 80 %h %p
  User git
  Hostname ssh.github.com
  PreferredAuthentications publickey
  Port 443
  IdentityFile "/path/to/.ssh/id_rsa"
  TCPKeepAlive yes
  IdentitiesOnly yes

И всё, git дотягивается до github как ни в чём ни бывало
